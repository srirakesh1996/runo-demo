<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CleverTap Local Test</title>

    <script type="text/javascript">
      // ‚úÖ Initialize CleverTap object
      var clevertap = {
        event: [],
        profile: [],
        account: [],
        onUserLogin: [],
        notifications: [],
        privacy: [],
      };

      // ‚úÖ Your account ID and region
      clevertap.account.push({ id: '6Z8-RRZ-957Z' });
      clevertap.region = 'eu1';

      // ‚úÖ Privacy settings for local testing
      clevertap.privacy.push({ optOut: false });
      clevertap.privacy.push({ useIP: false });

      // ‚úÖ Load from CloudFront fallback CDN (working globally)
      (function () {
        var wzrk = document.createElement('script');
        wzrk.type = 'text/javascript';
        wzrk.async = true;
        wzrk.src = 'https://d2r1yp2w7bby2u.cloudfront.net/js/clevertap.min.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(wzrk, s);
      })();
    </script>
  </head>

  <body>
    <h2>CleverTap Localhost Test</h2>
    <button onclick="identifyUser()">Identify User</button>
    <button onclick="sendEvent()">Send Test Event</button>

    <script>
      function identifyUser() {
        if (typeof clevertap === 'undefined') {
          console.error('‚ùå CleverTap SDK not loaded!');
          return;
        }

        clevertap.onUserLogin.push({
          Site: {
            Name: 'Local Tester',
            Email: 'localtester@runo.in',
            Identity: 'localtester@runo.in',
          },
        });
        console.log('‚úÖ User identified to CleverTap');
      }

      function sendEvent() {
        if (typeof clevertap === 'undefined') {
          console.error('‚ùå CleverTap SDK not loaded!');
          return;
        }

        clevertap.event.push('TestEvent', {
          Source: 'localhost',
          Time: new Date().toISOString(),
        });
        console.log('üöÄ TestEvent sent to CleverTap');
      }
    </script>
  </body>
</html>
